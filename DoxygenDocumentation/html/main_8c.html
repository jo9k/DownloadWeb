<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Web Download: main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Web Download
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Simple networking application for downloading html websites</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/select.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwebaddr.html">webaddr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for Webadresses.  <a href="structwebaddr.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsimple__list.html">simple_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for list.  <a href="structsimple__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a614217d263be1fb1a5f76e2ff7be19a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a614217d263be1fb1a5f76e2ff7be19a2">PORT</a>&#160;&#160;&#160;80</td></tr>
<tr class="separator:a614217d263be1fb1a5f76e2ff7be19a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946f3406a107a82227c4f33ea8598290"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a946f3406a107a82227c4f33ea8598290">SOCKINQUEUE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a946f3406a107a82227c4f33ea8598290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb4212918ebefaca678d654dce4425e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a4cb4212918ebefaca678d654dce4425e">URLSIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a4cb4212918ebefaca678d654dce4425e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47893e86457950c30831b9cb0e7c3235"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a47893e86457950c30831b9cb0e7c3235">HOSTSIZE</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a47893e86457950c30831b9cb0e7c3235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad974fe981249f5e84fbf1683b012c9f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad974fe981249f5e84fbf1683b012c9f8">BUFLEN</a>&#160;&#160;&#160;63000</td></tr>
<tr class="separator:ad974fe981249f5e84fbf1683b012c9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00bfb46347d26fdc58568fe1ab5fa5b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ac00bfb46347d26fdc58568fe1ab5fa5b">STDIN</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ac00bfb46347d26fdc58568fe1ab5fa5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cde4104edca15f3c3c51238bc0edbd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0cde4104edca15f3c3c51238bc0edbd1">TIMESIZE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a0cde4104edca15f3c3c51238bc0edbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50267d552ca6f788254032e40046b770"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a50267d552ca6f788254032e40046b770">DEPTH</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a50267d552ca6f788254032e40046b770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d6a5ff7d7c74135c525acb9e8ee7a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a60d6a5ff7d7c74135c525acb9e8ee7a1">MAX_REQ</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a60d6a5ff7d7c74135c525acb9e8ee7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a88984f2abd0c5475e5459be090288751"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structwebaddr.html">webaddr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a></td></tr>
<tr class="memdesc:a88984f2abd0c5475e5459be090288751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for Webadresses.  <a href="#a88984f2abd0c5475e5459be090288751">More...</a><br /></td></tr>
<tr class="separator:a88984f2abd0c5475e5459be090288751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab63ef09aeb9a540049d985a347d02b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structsimple__list.html">simple_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9ab63ef09aeb9a540049d985a347d02b">list</a></td></tr>
<tr class="memdesc:a9ab63ef09aeb9a540049d985a347d02b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for list.  <a href="#a9ab63ef09aeb9a540049d985a347d02b">More...</a><br /></td></tr>
<tr class="separator:a9ab63ef09aeb9a540049d985a347d02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad2e9329c79af041e6af1066c4aea42d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad2e9329c79af041e6af1066c4aea42d7">die</a> (char *s, int <a class="el" href="main_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</td></tr>
<tr class="memdesc:ad2e9329c79af041e6af1066c4aea42d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom error function.  <a href="#ad2e9329c79af041e6af1066c4aea42d7">More...</a><br /></td></tr>
<tr class="separator:ad2e9329c79af041e6af1066c4aea42d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0927899c9935565cac8bab05b2fe2342"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0927899c9935565cac8bab05b2fe2342">processSite</a> (char *name, FILE *log, int depth, char *current_folder)</td></tr>
<tr class="memdesc:a0927899c9935565cac8bab05b2fe2342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download contents of webpage recursively and start the logging process.  <a href="#a0927899c9935565cac8bab05b2fe2342">More...</a><br /></td></tr>
<tr class="separator:a0927899c9935565cac8bab05b2fe2342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fdc4145d944803c9113e813daabfd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a08fdc4145d944803c9113e813daabfd7">processQuery</a> (char *query, FILE *log)</td></tr>
<tr class="memdesc:a08fdc4145d944803c9113e813daabfd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses google.de to search for the given string.  <a href="#a08fdc4145d944803c9113e813daabfd7">More...</a><br /></td></tr>
<tr class="separator:a08fdc4145d944803c9113e813daabfd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60fab1f99c8e95160f038def2f54015d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a> (char *timebuff)</td></tr>
<tr class="memdesc:a60fab1f99c8e95160f038def2f54015d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the time base, creates a timestamp and writes the result into char string timebuff.  <a href="#a60fab1f99c8e95160f038def2f54015d">More...</a><br /></td></tr>
<tr class="separator:a60fab1f99c8e95160f038def2f54015d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec9442703dfaaa0430bb5cbdadfcbf4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3ec9442703dfaaa0430bb5cbdadfcbf4">preprocess_website</a> (<a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a> *website, FILE *log)</td></tr>
<tr class="memdesc:a3ec9442703dfaaa0430bb5cbdadfcbf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the hostname to a IP address, prepares webpage address for processing in the program.  <a href="#a3ec9442703dfaaa0430bb5cbdadfcbf4">More...</a><br /></td></tr>
<tr class="separator:a3ec9442703dfaaa0430bb5cbdadfcbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3310125badd0ce971c1098c13655edcb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3310125badd0ce971c1098c13655edcb">requestWebsite</a> (<a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a> *website, FILE *log, char *buffer,unsigned int *<a class="el" href="main_8c.html#a7c20c420237aa9283515ea5c242479e7">buflen</a>)</td></tr>
<tr class="memdesc:a3310125badd0ce971c1098c13655edcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download the webpage.  <a href="#a3310125badd0ce971c1098c13655edcb">More...</a><br /></td></tr>
<tr class="separator:a3310125badd0ce971c1098c13655edcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2a4d2cd293581a9bf485ce2a5b80abb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae2a4d2cd293581a9bf485ce2a5b80abb">editAndSave</a> (<a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a> *website, FILE *log, char *content, <a class="el" href="main_8c.html#a9ab63ef09aeb9a540049d985a347d02b">list</a> *<a class="el" href="main_8c.html#a08fed31ac160af672213774bd2392159">new_requests</a>)</td></tr>
<tr class="memdesc:ae2a4d2cd293581a9bf485ce2a5b80abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edits contents of webpage and tries to retrieve links to other sites/resources to be downloaded.  <a href="#ae2a4d2cd293581a9bf485ce2a5b80abb">More...</a><br /></td></tr>
<tr class="separator:ae2a4d2cd293581a9bf485ce2a5b80abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function.  <a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">More...</a><br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c637955d59085590770de85709bd193"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9c637955d59085590770de85709bd193">fprintf</a> (logfile,&quot;%s %s\n&quot;, getTimeBuffer(timebuff),&quot;Initialisation of <a class="el" href="main_8c.html#a3310125badd0ce971c1098c13655edcb">requestWebsite</a>() inside of <a class="el" href="main_8c.html#a0927899c9935565cac8bab05b2fe2342">processSite</a>()&quot;)</td></tr>
<tr class="separator:a9c637955d59085590770de85709bd193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a86dd220f83f5a1a2bff5e4615e35e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0a86dd220f83f5a1a2bff5e4615e35e8">strcpy</a> (<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>,&quot;GET &quot;)</td></tr>
<tr class="memdesc:a0a86dd220f83f5a1a2bff5e4615e35e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP REQUEST.  <a href="#a0a86dd220f83f5a1a2bff5e4615e35e8">More...</a><br /></td></tr>
<tr class="separator:a0a86dd220f83f5a1a2bff5e4615e35e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac439ba058ce3f79e8310f88c9a3fe1fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ac439ba058ce3f79e8310f88c9a3fe1fb">strcat</a> (<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>, website-&gt;page)</td></tr>
<tr class="separator:ac439ba058ce3f79e8310f88c9a3fe1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af513ef54a4565744712f1893dfe87ffd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af513ef54a4565744712f1893dfe87ffd">strcat</a> (<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>,&quot; HTTP/1.1\r\nHost: &quot;)</td></tr>
<tr class="separator:af513ef54a4565744712f1893dfe87ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e4f7e6f56c8019c581b9f22904379b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab1e4f7e6f56c8019c581b9f22904379b">strcat</a> (<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>, website-&gt;hostname+7)</td></tr>
<tr class="separator:ab1e4f7e6f56c8019c581b9f22904379b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8866b7bd4aab3f72e14fb814271033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#afd8866b7bd4aab3f72e14fb814271033">strcat</a> (<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>,&quot;\r\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:44.0) Gecko/20100101 Firefox/44.0\r\n&quot;)</td></tr>
<tr class="separator:afd8866b7bd4aab3f72e14fb814271033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7b3e21dcb3f1f79190a210087cd3a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#adc7b3e21dcb3f1f79190a210087cd3a3">strcat</a> (<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>,&quot;\r\n&quot;)</td></tr>
<tr class="separator:adc7b3e21dcb3f1f79190a210087cd3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b9a9f0f6b5c6de49a3b86f601003a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a89b9a9f0f6b5c6de49a3b86f601003a8">fprintf</a> (logfile,&quot;%s\n%s\n%s\n&quot;, getTimeBuffer(timebuff),&quot;SENT REQUEST:&quot;, request)</td></tr>
<tr class="separator:a89b9a9f0f6b5c6de49a3b86f601003a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e983cb99d0067297dc556d97f99ade0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5e983cb99d0067297dc556d97f99ade0">memset</a> ((char *)&amp;<a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>, 0, sizeof(<a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>))</td></tr>
<tr class="separator:a5e983cb99d0067297dc556d97f99ade0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e9334bfa34578f7ec7593336511718"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad9e9334bfa34578f7ec7593336511718">if</a> (if(connect(<a class="el" href="main_8c.html#a7ee9c2c6090084f2f66e2e6fa03ee581">sock_id</a>==-1)</td></tr>
<tr class="separator:ad9e9334bfa34578f7ec7593336511718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5e05e668ec72135dfc6db38b4a6f31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5c5e05e668ec72135dfc6db38b4a6f31">if</a> (send(<a class="el" href="main_8c.html#a7ee9c2c6090084f2f66e2e6fa03ee581">sock_id</a>, <a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>, strlen(<a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>), 0)&lt; 0)</td></tr>
<tr class="separator:a5c5e05e668ec72135dfc6db38b4a6f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8fdafe3be7e00ce3d4f0cb50a9a5eb39">while</a> (1)</td></tr>
<tr class="separator:a8fdafe3be7e00ce3d4f0cb50a9a5eb39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b73605297e2c3a54d5d3ffd8881be0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a47b73605297e2c3a54d5d3ffd8881be0">if</a> (beginning_of_data!=NULL)</td></tr>
<tr class="separator:a47b73605297e2c3a54d5d3ffd8881be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6ecf16430ef9fee42b41d25af1bfc7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2f6ecf16430ef9fee42b41d25af1bfc7">close</a> (<a class="el" href="main_8c.html#a7ee9c2c6090084f2f66e2e6fa03ee581">sock_id</a>)</td></tr>
<tr class="separator:a2f6ecf16430ef9fee42b41d25af1bfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1276344ad97932136505d7c7164f7ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ac1276344ad97932136505d7c7164f7ed">fprintf</a> (logfile,&quot;%s %s\n&quot;, getTimeBuffer(timebuff),&quot;Initialisation of <a class="el" href="main_8c.html#ae2a4d2cd293581a9bf485ce2a5b80abb">editAndSave</a>() inside of <a class="el" href="main_8c.html#a0927899c9935565cac8bab05b2fe2342">processSite</a>()&quot;)</td></tr>
<tr class="separator:ac1276344ad97932136505d7c7164f7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af91ba5c47d97d6a75c9fbc4f40a8e506"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#af91ba5c47d97d6a75c9fbc4f40a8e506">for</a> (<a class="el" href="main_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="el" href="main_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt; <a class="el" href="main_8c.html#a60d6a5ff7d7c74135c525acb9e8ee7a1">MAX_REQ</a>;)</td></tr>
<tr class="separator:af91ba5c47d97d6a75c9fbc4f40a8e506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8d4cf7b8c6b22aa88794fb71fa852f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5b8d4cf7b8c6b22aa88794fb71fa852f">fprintf</a> (logfile,&quot;%s %s\n&quot;, getTimeBuffer(timebuff),&quot;All links of the website have been saved&quot;)</td></tr>
<tr class="separator:a5b8d4cf7b8c6b22aa88794fb71fa852f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8b87b233658bd1635573fa82a38441e9"><td class="memItemLeft" align="right" valign="top">struct sockaddr_in&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a></td></tr>
<tr class="separator:a8b87b233658bd1635573fa82a38441e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63365583bb04acd30e30fc3239879356"><td class="memItemLeft" align="right" valign="top">socklen_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a63365583bb04acd30e30fc3239879356">sock_length</a> = sizeof(<a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>)</td></tr>
<tr class="separator:a63365583bb04acd30e30fc3239879356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5faf35ef04c3a66a39ae4301d53a8851"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5faf35ef04c3a66a39ae4301d53a8851">data</a> [<a class="el" href="main_8c.html#ad974fe981249f5e84fbf1683b012c9f8">BUFLEN</a>]</td></tr>
<tr class="separator:a5faf35ef04c3a66a39ae4301d53a8851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee9c2c6090084f2f66e2e6fa03ee581"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7ee9c2c6090084f2f66e2e6fa03ee581">sock_id</a> = socket(AF_INET, SOCK_STREAM, 0)</td></tr>
<tr class="separator:a7ee9c2c6090084f2f66e2e6fa03ee581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951f9b990c2279828c39a5da644c630e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a951f9b990c2279828c39a5da644c630e">rcv_length</a> =-1</td></tr>
<tr class="separator:a951f9b990c2279828c39a5da644c630e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c20c420237aa9283515ea5c242479e7"><td class="memItemLeft" align="right" valign="top">*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7c20c420237aa9283515ea5c242479e7">buflen</a> = 0</td></tr>
<tr class="separator:a7c20c420237aa9283515ea5c242479e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e6a0d2bcb8531a5e5adcd66a77aa3b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a> = (char*) malloc (sizeof(website-&gt;hostname)*strlen(website-&gt;hostname)+sizeof(website-&gt;page)*strlen(website-&gt;page)+sizeof(char)*75)</td></tr>
<tr class="separator:a51e6a0d2bcb8531a5e5adcd66a77aa3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7198490587a04eeee9283e64a36774c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7198490587a04eeee9283e64a36774c3">sin_family</a> = AF_INET</td></tr>
<tr class="separator:a7198490587a04eeee9283e64a36774c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4f9f1a0626b75aac07a9efc4e1aee4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a4e4f9f1a0626b75aac07a9efc4e1aee4">sin_port</a> = htons(<a class="el" href="main_8c.html#a614217d263be1fb1a5f76e2ff7be19a2">PORT</a>)</td></tr>
<tr class="separator:a4e4f9f1a0626b75aac07a9efc4e1aee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0544c3fe466e421738dae463968b70ba">else</a></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae447355422889376eec4096495140356"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae447355422889376eec4096495140356">beginning_of_data</a> =strstr(buffer,&quot;\r\n\r\n&quot;)</td></tr>
<tr class="separator:ae447355422889376eec4096495140356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7ea92f45bd273dde380a45ddced592"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aed7ea92f45bd273dde380a45ddced592">offset</a> = <a class="el" href="main_8c.html#ae447355422889376eec4096495140356">beginning_of_data</a>-buffer+4</td></tr>
<tr class="separator:aed7ea92f45bd273dde380a45ddced592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8bb385160d2854b0c2ebb85db2d212"><td class="memItemLeft" align="right" valign="top">return&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1a8bb385160d2854b0c2ebb85db2d212">EXIT_SUCCESS</a></td></tr>
<tr class="separator:a1a8bb385160d2854b0c2ebb85db2d212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1255e60c8817037d368185e7890b1c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8c.html#a08fed31ac160af672213774bd2392159">new_requests</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aa1255e60c8817037d368185e7890b1c5">string</a> = (char*) malloc(<a class="el" href="main_8c.html#a4cb4212918ebefaca678d654dce4425e">URLSIZE</a>)</td></tr>
<tr class="separator:aa1255e60c8817037d368185e7890b1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34bcf9f163ce26968812dff83ee92226"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8c.html#a9ab63ef09aeb9a540049d985a347d02b">list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a34bcf9f163ce26968812dff83ee92226">initial_pointer</a> = <a class="el" href="main_8c.html#a08fed31ac160af672213774bd2392159">new_requests</a></td></tr>
<tr class="memdesc:a34bcf9f163ce26968812dff83ee92226"><td class="mdescLeft">&#160;</td><td class="mdescRight">buffer beginning of list  <a href="#a34bcf9f163ce26968812dff83ee92226">More...</a><br /></td></tr>
<tr class="separator:a34bcf9f163ce26968812dff83ee92226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70558265885283cfdbfb00c08d22c5b5"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a70558265885283cfdbfb00c08d22c5b5">pch</a> =content</td></tr>
<tr class="memdesc:a70558265885283cfdbfb00c08d22c5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset position of search pointer  <a href="#a70558265885283cfdbfb00c08d22c5b5">More...</a><br /></td></tr>
<tr class="separator:a70558265885283cfdbfb00c08d22c5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3c00e3771bedff51dc5e6999709bcf"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a0b3c00e3771bedff51dc5e6999709bcf">positionbuf</a></td></tr>
<tr class="separator:a0b3c00e3771bedff51dc5e6999709bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a82fbaf784823f4d43dde28f35afc1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a06a82fbaf784823f4d43dde28f35afc1">tmp</a></td></tr>
<tr class="separator:a06a82fbaf784823f4d43dde28f35afc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb559820d9ca11295b4500f179ef6392"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></td></tr>
<tr class="separator:acb559820d9ca11295b4500f179ef6392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fed31ac160af672213774bd2392159"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a08fed31ac160af672213774bd2392159">new_requests</a> = <a class="el" href="main_8c.html#a34bcf9f163ce26968812dff83ee92226">initial_pointer</a></td></tr>
<tr class="separator:a08fed31ac160af672213774bd2392159"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad974fe981249f5e84fbf1683b012c9f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFLEN&#160;&#160;&#160;63000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max length of buffer -&gt; experimentally 128K, seems legitimate, after some checking ; For google we gonna need ~twice as much 131072 </p>

</div>
</div>
<a class="anchor" id="a50267d552ca6f788254032e40046b770"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEPTH&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum recurency depth </p>

</div>
</div>
<a class="anchor" id="a47893e86457950c30831b9cb0e7c3235"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HOSTSIZE&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For finding method of query </p>

</div>
</div>
<a class="anchor" id="a60d6a5ff7d7c74135c525acb9e8ee7a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_REQ&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of requests from one page </p>

</div>
</div>
<a class="anchor" id="a614217d263be1fb1a5f76e2ff7be19a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORT&#160;&#160;&#160;80</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The port on which to listen for incoming data </p>

</div>
</div>
<a class="anchor" id="a946f3406a107a82227c4f33ea8598290"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOCKINQUEUE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max number of socks in queue </p>

</div>
</div>
<a class="anchor" id="ac00bfb46347d26fdc58568fe1ab5fa5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STDIN&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Standard input </p>

</div>
</div>
<a class="anchor" id="a0cde4104edca15f3c3c51238bc0edbd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMESIZE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of timestamp </p>

</div>
</div>
<a class="anchor" id="a4cb4212918ebefaca678d654dce4425e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define URLSIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max length of URL </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a9ab63ef09aeb9a540049d985a347d02b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structsimple__list.html">simple_list</a>  <a class="el" href="main_8c.html#a9ab63ef09aeb9a540049d985a347d02b">list</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct for list. </p>
<p>Used to list character strings of new requests </p>

</div>
</div>
<a class="anchor" id="a88984f2abd0c5475e5459be090288751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structwebaddr.html">webaddr</a>  <a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct for Webadresses. </p>
<p>Saves the text representation of the URL, the hostname and the link within the webpage. Also the text representation of the IP can be saved </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2f6ecf16430ef9fee42b41d25af1bfc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a7ee9c2c6090084f2f66e2e6fa03ee581">sock_id</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2e9329c79af041e6af1066c4aea42d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void die </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom error function. </p>
<p>Outputs the error string s and exits program with exit number i </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>char string with error Message </td></tr>
    <tr><td class="paramname">i</td><td>error number </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>error message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>error number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae2a4d2cd293581a9bf485ce2a5b80abb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int editAndSave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a> *&#160;</td>
          <td class="paramname"><em>website</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8c.html#a9ab63ef09aeb9a540049d985a347d02b">list</a> *&#160;</td>
          <td class="paramname"><em>new_requests</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edits contents of webpage and tries to retrieve links to other sites/resources to be downloaded. </p>
<p>List with new requests is filled with request found on the site. max number of requests is MAX_REQ </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">website</td><td>pointer to WebAddr struct </td></tr>
    <tr><td class="paramname">log</td><td>pointer to logfile </td></tr>
    <tr><td class="paramname">content</td><td>pointer to data to edit </td></tr>
    <tr><td class="paramname">*new_requests</td><td>pointer to list of new requests for further iterations </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success 1 on failure </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">website</td><td>pointer to WebAddr struct </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>pointer to logfile </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">content</td><td>pointer to formatted data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">new_requests</td><td>pointer to list of new http queries </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af91ba5c47d97d6a75c9fbc4f40a8e506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">for </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>check if we have an absolute link, if so the path in the !saved! file has to be changed!</p>
<p>relative link =&gt; add website address but the path in the !saved! file can stay the same (Browser will look in the same folder for this files)</p>
<p>check if we have an absolute link, if so the path in the !saved! file has to be changed!</p>
<p>relative link =&gt; add website address but the path in the !saved! file can stay the same (Browser will look in the same folder for this files) </p>

</div>
</div>
<a class="anchor" id="a9c637955d59085590770de85709bd193"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">logfile&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;%s %s\n&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a>(timebuff)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Initialisation of <a class="el" href="main_8c.html#a3310125badd0ce971c1098c13655edcb">requestWebsite</a>() inside of <a class="el" href="main_8c.html#a0927899c9935565cac8bab05b2fe2342">processSite</a>()&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a89b9a9f0f6b5c6de49a3b86f601003a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">logfile&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;%s\n%s\n%s\n&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a>(timebuff)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;SENT REQUEST:&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1276344ad97932136505d7c7164f7ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">logfile&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;%s %s\n&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a>(timebuff)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Initialisation of <a class="el" href="main_8c.html#ae2a4d2cd293581a9bf485ce2a5b80abb">editAndSave</a>() inside of <a class="el" href="main_8c.html#a0927899c9935565cac8bab05b2fe2342">processSite</a>()&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5b8d4cf7b8c6b22aa88794fb71fa852f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">logfile&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;%s %s\n&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a>(timebuff)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;All links of the website have been saved&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a60fab1f99c8e95160f038def2f54015d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * getTimeBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>timebuff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the time base, creates a timestamp and writes the result into char string timebuff. </p>
<p>Timestamp in Format YMD HMS </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timebuf</td><td>pointer to string to write timestamp to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to string which contains the timestamp </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">timebuff</td><td>pointer to char string with timestamp </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9e9334bfa34578f7ec7593336511718"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype">if (connect(&#160;</td>
          <td class="paramname"><em>sock_id</em> = <code>=&#160;-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c5e05e668ec72135dfc6db38b4a6f31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a47b73605297e2c3a54d5d3ffd8881be0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype">beginning_of_data!&#160;</td>
          <td class="paramname"> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function. </p>
<p>Calls the functions necessary for the function of the program, also all the steps for logging are implemented here. Select is used to efficiently wait for user input </p>
<p>&lt; master fd_set for restoring the flag status</p>
<p>&lt; temp fd_set for checking the flag status by select()</p>
<p>preparing pointers and variables for logging</p>
<p>&lt; File pointer</p>
<p>generate a filename</p>
<p>concatenate path&amp;filename</p>
<p>restore temp_set</p>
<p>register stdin for select</p>
<p>Any number of file descriptors is ready to be read</p>
<p>Read data from stdin using fgets.</p>
<p>Remove trailing newline character from the input buffer if needed.</p>
<p>Starting application shutdown procedure</p>
<p>Processing URL query</p>
<p>Processing google query</p>
<p>Writes help manual in console </p>

</div>
</div>
<a class="anchor" id="a5e983cb99d0067297dc556d97f99ade0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">memset </td>
          <td>(</td>
          <td class="paramtype">(char *)&amp;&#160;</td>
          <td class="paramname"><em>si_server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sizeof(<a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3ec9442703dfaaa0430bb5cbdadfcbf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int preprocess_website </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a> *&#160;</td>
          <td class="paramname"><em>website</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the hostname to a IP address, prepares webpage address for processing in the program. </p>
<p>Extracts the hostname and the relative address on the server from the given URL, query the DNS to obtain the IP addresses linked to that webpage and save the result in a WebAddr struct, </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">website</td><td>WebAddr pointer which provides website address, the IP address will be added </td></tr>
    <tr><td class="paramname">log</td><td>pointer to logfile </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success and 1 on error </dd></dl>
<p>check argument *website</p>
<p>check buffer overflow</p>
<p>start processing, search for the first / after the web address, this position tells where the hostname ends and where the relative page address starts</p>
<p>strings not zero terminated!</p>
<p>get the IP address for the website</p>
<p>loop through all the results and connect to the first we can </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">website</td><td>pointer to WebAddr struct </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>pointer to logfile </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a08fdc4145d944803c9113e813daabfd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int processQuery </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses google.de to search for the given string. </p>
<p>The given string is the argument of a google search on the german google servers. The resulting webpage is downloaded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>input string for the google Query </td></tr>
    <tr><td class="paramname">log</td><td>pointer to logfile </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>
<p>logging system if no global log file exists.</p>
<p>if directory doesn't exist, create directory</p>
<p>processing query </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">query</td><td>string containing the query in html format </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>pointer to logfile </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0927899c9935565cac8bab05b2fe2342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int processSite </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>current_folder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download contents of webpage recursively and start the logging process. </p>
<p>A textfile under the name name is created for logging, a WebAddr struct is initialized and the webpage contents are downloaded recursively </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log</td><td>pointer to logfile </td></tr>
    <tr><td class="paramname">depth</td><td>depth of the recursion </td></tr>
    <tr><td class="paramname">current_folder</td><td>is pointer to char string containing directory for file save </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success 1 on failure </dd></dl>
<p>processing website address</p>
<p>download the website</p>
<p>extract all the links from the website and change to relative addressing</p>
<p>create folders for all the websites and write content (ie the downloaded file from website) to folder</p>
<p>if it's html site, then create it another folder, else leave dir unchanged</p>
<p>if main site, ie. no file name for saving</p>
<p>filename cannot consist of "/" so <a href="http://">http://</a> ommited</p>
<p>try to open file for saving data</p>
<p>save the file</p>
<p>recursively call <a class="el" href="main_8c.html#a0927899c9935565cac8bab05b2fe2342" title="Download contents of webpage recursively and start the logging process. ">processSite()</a> for all the found links src = full addresses or relative ones </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>name of the webpage </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>pointer to logfile </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">depth</td><td>recursion depth </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current_folder</td><td>folder to write-in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3310125badd0ce971c1098c13655edcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int requestWebsite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a88984f2abd0c5475e5459be090288751">WebAddr</a> *&#160;</td>
          <td class="paramname"><em>website</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download the webpage. </p>
<p>Assemble the http command for downloading the webpage given in WebAddr struct. Send the request to the server and download the webpage </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">website</td><td>website to be downloaded </td></tr>
    <tr><td class="paramname">log</td><td>pointer to logfile </td></tr>
    <tr><td class="paramname">buffer</td><td>char string for the website DATA </td></tr>
    <tr><td class="paramname">buflen</td><td>pointer to unsigned int returns size of received data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success 1 on failure </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">website</td><td>pointer to WebAddr struct </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>pointer to logfile </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>pointer to received content </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buflen</td><td>pointer to received data size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac439ba058ce3f79e8310f88c9a3fe1fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strcat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">website-&gt;&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af513ef54a4565744712f1893dfe87ffd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strcat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot; HTTP/1.1\r\nHost: &quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab1e4f7e6f56c8019c581b9f22904379b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strcat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">website-&gt;hostname+&#160;</td>
          <td class="paramname"><em>7</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afd8866b7bd4aab3f72e14fb814271033"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strcat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;\r\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:44.0) Gecko/20100101 Firefox/44.0\r\n&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adc7b3e21dcb3f1f79190a210087cd3a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strcat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;\r\n&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a86dd220f83f5a1a2bff5e4615e35e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strcpy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8c.html#a51e6a0d2bcb8531a5e5adcd66a77aa3b">request</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;GET &quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HTTP REQUEST. </p>

</div>
</div>
<a class="anchor" id="a8fdafe3be7e00ce3d4f0cb50a9a5eb39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">while </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae447355422889376eec4096495140356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* beginning_of_data =strstr(buffer,&quot;\r\n\r\n&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c20c420237aa9283515ea5c242479e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">* buflen = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5faf35ef04c3a66a39ae4301d53a8851"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char data[<a class="el" href="main_8c.html#ad974fe981249f5e84fbf1683b012c9f8">BUFLEN</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0544c3fe466e421738dae463968b70ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="main_8c.html#a9c637955d59085590770de85709bd193">fprintf</a>(logfile, <span class="stringliteral">&quot;%s %s\n&quot;</span>, <a class="code" href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a>(timebuff), <span class="stringliteral">&quot;send() inside requestWebsite() :: SUCCESS&quot;</span>)</div><div class="ttc" id="main_8c_html_a60fab1f99c8e95160f038def2f54015d"><div class="ttname"><a href="main_8c.html#a60fab1f99c8e95160f038def2f54015d">getTimeBuffer</a></div><div class="ttdeci">char * getTimeBuffer(char *timebuff)</div><div class="ttdoc">Reads the time base, creates a timestamp and writes the result into char string timebuff. </div><div class="ttdef"><b>Definition:</b> main.c:235</div></div>
<div class="ttc" id="main_8c_html_a9c637955d59085590770de85709bd193"><div class="ttname"><a href="main_8c.html#a9c637955d59085590770de85709bd193">fprintf</a></div><div class="ttdeci">fprintf(logfile,&quot;%s %s\n&quot;, getTimeBuffer(timebuff),&quot;Initialisation of requestWebsite() inside of processSite()&quot;)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a8bb385160d2854b0c2ebb85db2d212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">return EXIT_SUCCESS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acb559820d9ca11295b4500f179ef6392"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int i</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a34bcf9f163ce26968812dff83ee92226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#a9ab63ef09aeb9a540049d985a347d02b">list</a>* initial_pointer = <a class="el" href="main_8c.html#a08fed31ac160af672213774bd2392159">new_requests</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>buffer beginning of list </p>

</div>
</div>
<a class="anchor" id="a08fed31ac160af672213774bd2392159"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">new_requests = <a class="el" href="main_8c.html#a34bcf9f163ce26968812dff83ee92226">initial_pointer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aed7ea92f45bd273dde380a45ddced592"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int offset = <a class="el" href="main_8c.html#ae447355422889376eec4096495140356">beginning_of_data</a>-buffer+4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a70558265885283cfdbfb00c08d22c5b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pch =content</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reset position of search pointer </p>

</div>
</div>
<a class="anchor" id="a0b3c00e3771bedff51dc5e6999709bcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * positionbuf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a951f9b990c2279828c39a5da644c630e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rcv_length =-1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a51e6a0d2bcb8531a5e5adcd66a77aa3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">request = (char*) malloc (sizeof(website-&gt;hostname)*strlen(website-&gt;hostname)+sizeof(website-&gt;page)*strlen(website-&gt;page)+sizeof(char)*75)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b87b233658bd1635573fa82a38441e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sockaddr_in si_server</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">    <span class="keywordtype">char</span> timebuff[<a class="code" href="main_8c.html#a0cde4104edca15f3c3c51238bc0edbd1">TIMESIZE</a>]</div><div class="ttc" id="main_8c_html_a0cde4104edca15f3c3c51238bc0edbd1"><div class="ttname"><a href="main_8c.html#a0cde4104edca15f3c3c51238bc0edbd1">TIMESIZE</a></div><div class="ttdeci">#define TIMESIZE</div><div class="ttdef"><b>Definition:</b> main.c:47</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7198490587a04eeee9283e64a36774c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a> sin_family = AF_INET</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4e4f9f1a0626b75aac07a9efc4e1aee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a> sin_port = htons(<a class="el" href="main_8c.html#a614217d263be1fb1a5f76e2ff7be19a2">PORT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ee9c2c6090084f2f66e2e6fa03ee581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sock_id = socket(AF_INET, SOCK_STREAM, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a63365583bb04acd30e30fc3239879356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">socklen_t sock_length = sizeof(<a class="el" href="main_8c.html#a8b87b233658bd1635573fa82a38441e9">si_server</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa1255e60c8817037d368185e7890b1c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#a08fed31ac160af672213774bd2392159">new_requests</a> string = (char*) malloc(<a class="el" href="main_8c.html#a4cb4212918ebefaca678d654dce4425e">URLSIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a06a82fbaf784823f4d43dde28f35afc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* tmp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
